<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Husqvarna Automower Manager</title>
  <script>
    // Redirect script for GitHub Pages
    // When GitHub Pages serves a 404 response, it serves this HTML file
    // This script redirects to the index.html with the original URL parameters,
    // allowing the SPA router to handle the route
    (function() {
      // Get the repository name from the URL pathname
      // e.g., for https://username.github.io/repo-name/page1
      // pathname is "/repo-name/page1"
      var pathSegments = window.location.pathname.split('/');
      var repoName = pathSegments[1]; // First segment after the initial slash
      
      // If we're on GitHub Pages (contains github.io)
      if (window.location.hostname.includes('github.io')) {
        // Redirect to the root with the full path as a parameter
        // We strip off the repo name since that's part of the base path
        var redirectPath = window.location.pathname.substring(
          window.location.pathname.indexOf(repoName) + repoName.length
        );
        
        // Ensure we have a leading slash
        if (!redirectPath.startsWith('/')) {
          redirectPath = '/' + redirectPath;
        }
        
        // Redirect to the index page with proper path
        window.location.replace(
          window.location.origin + 
          '/' + repoName + 
          '/#' + redirectPath + 
          window.location.search
        );
      } else {
        // For non-GitHub Pages environments, just redirect to index with the current path
        window.location.replace(
          window.location.origin + 
          '/#' + window.location.pathname + 
          window.location.search
        );
      }
    })();
  </script>
</head>
<body>
  <h2>Redirecting...</h2>
  <p>If you are not redirected automatically, please click <a href="index.html">here</a>.</p>
</body>
</html>